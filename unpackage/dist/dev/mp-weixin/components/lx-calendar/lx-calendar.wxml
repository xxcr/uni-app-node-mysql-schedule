<view class="date"><view class="head"><view data-event-opts="{{[['tap',[['switch_month_week',['prev',true]]]]]}}" class="icon" bindtap="__e"><text class="iconfont icon-fanhui"></text></view><view class="title">{{nowYear+'年'+nowMonth+'月'}}</view><view data-event-opts="{{[['tap',[['switch_month_week',['next',true]]]]]}}" class="icon" bindtap="__e"><text class="iconfont next icon-fanhui"></text></view></view><view class="date_dl"><block wx:for="{{week}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="dd">{{item}}</view></block></view><swiper style="{{'height:'+((retract?2*80:(week_list.length+1)*80)+'rpx')+';'}}" current="{{current}}" circular data-event-opts="{{[['change',[['change_date',['$event']]]]]}}" bindchange="__e"><swiper-item><block wx:for="{{week_list_prev_co}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(!retract||index==to_prev_week_index)}}" class="date_dl"><block wx:for="{{item}}" wx:for-item="vo" wx:for-index="key" wx:key="key"><view data-event-opts="{{[['tap',[['item_click',['$0',index,key],[[['week_list_prev_co','',index],['','',key]]]]]]]}}" class="dd" bindtap="__e"><view class="{{['num',vo.today?'today':'',vo.type=='month'?'month':retract?'':'disabled']}}">{{vo.day}}</view><view hidden="{{!(vo.dot)}}" class="dot"></view></view></block></view></block><view data-event-opts="{{[['tap',[['open',['$event']]]]]}}" class="retract icon" bindtap="__e"><text class="{{['iconfont next icon-fanhui',retract?'':'retract_icon']}}"></text></view></swiper-item><swiper-item><block wx:for="{{week_list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(!retract||index==to_week_index)}}" class="date_dl"><block wx:for="{{item}}" wx:for-item="vo" wx:for-index="key" wx:key="key"><view data-event-opts="{{[['tap',[['item_click',['$0',index,key],[[['week_list','',index],['','',key]]]]]]]}}" class="dd" bindtap="__e"><view class="{{['num',vo.today?'today':'',vo.type=='month'?'month':retract?'':'disabled']}}">{{vo.day}}</view><view hidden="{{!(vo.dot)}}" class="dot"></view></view></block></view></block><view data-event-opts="{{[['tap',[['open',['$event']]]]]}}" class="retract icon" bindtap="__e"><text class="{{['iconfont next icon-fanhui',retract?'':'retract_icon']}}"></text></view></swiper-item><swiper-item><block wx:for="{{week_list_next_co}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view hidden="{{!(!retract||index==to_next_week_index)}}" class="date_dl"><block wx:for="{{item}}" wx:for-item="vo" wx:for-index="key" wx:key="key"><view data-event-opts="{{[['tap',[['item_click',['$0',index,key],[[['week_list_next_co','',index],['','',key]]]]]]]}}" class="dd" bindtap="__e"><view class="{{['num',vo.today?'today':'',vo.type=='month'?'month':retract?'':'disabled']}}">{{vo.day}}</view><view hidden="{{!(vo.dot)}}" class="dot"></view></view></block></view></block><view data-event-opts="{{[['tap',[['open',['$event']]]]]}}" class="retract icon" bindtap="__e"><text class="{{['iconfont next icon-fanhui',retract?'':'retract_icon']}}"></text></view></swiper-item></swiper></view>